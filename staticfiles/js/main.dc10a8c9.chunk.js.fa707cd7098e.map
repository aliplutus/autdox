{"version":3,"sources":["api/api.tsx","components/create.tsx","components/Form.tsx","components/LoginForm.tsx","components/Header.tsx","components/Paper.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["lookup","method","endpoint","callback","data","xhr","XMLHttpRequest","responseType","open","window","location","origin","setRequestHeader","btoa","coockie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","onload","response","status","onerror","e","console","log","message","send","JSON","stringify","Create","React","useState","title","description","state","setstate","onChange","pre","target","value","placeholder","onClick","author","who_can_see","Form","element","className","action","dataset","logouturl","hidden","crf","type","LoginForm","href","loginurl","autoComplete","maxLength","required","id","Header","getElementById","username","Paper","item","style","border","margin","App","books","useEffect","map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dc10a8c9.chunk.js","sourcesContent":["const getCookie = (name: string) => {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n};\nexport default function lookup(\n  method: string,\n  endpoint: string,\n  callback: Function,\n  data?: any\n) {\n  const xhr = new XMLHttpRequest();\n  xhr.responseType = \"json\";\n  xhr.open(method, `${window.location.origin}/${endpoint}`);\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  xhr.setRequestHeader(\n    \"Authorization\",\n    \"Basic \" + btoa(\"Ali\" + \":\" + \"AAssppmm11\")\n  );\n  const coockie = getCookie(\"csrftoken\");\n  if (coockie) {\n    xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-Requested-with\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-CSRFToken\", coockie);\n  }\n  xhr.onload = function () {\n    callback(xhr.response, xhr.status);\n  };\n  xhr.onerror = function (e) {\n    console.log(e);\n    callback({ message: \"The request was an error\" }, 400);\n  };\n  xhr.send(JSON.stringify(data));\n}\n","import React from \"react\";\nimport lookup from \"../api/api\";\n\nfunction Create() {\n  const [state, setstate] = React.useState<any>({ title: \"\", description: \"\" });\n  const callback = (response: any, status: number) => {\n    console.log(response, status);\n  };\n  return (\n    <div>\n      <input\n        onChange={(e) =>\n          setstate((pre: any) => {\n            return { ...pre, title: e.target.value };\n          })\n        }\n        placeholder=\"title\"\n      />\n      <input\n        onChange={(e) =>\n          setstate((pre: any) => {\n            return { ...pre, description: e.target.value };\n          })\n        }\n        placeholder=\"description\"\n      />\n      <button\n        onClick={() => {\n          console.log(state);\n          lookup(\"POST\", \"api/addbook/\", callback, {\n            author: 1,\n            ...state,\n            who_can_see: \"2,3\",\n          });\n        }}\n      >\n        create book\n      </button>\n    </div>\n  );\n}\n\nexport default Create;\n","import React from \"react\";\n\nfunction Form(element: any) {\n  return (\n    <form className=\"logout\" method=\"post\" action={element.dataset.logouturl}>\n      <input hidden name=\"csrfmiddlewaretoken\" value={element.dataset.crf} />\n      <button type=\"submit\">logout</button>\n    </form>\n  );\n}\n\nexport default Form;\n","import React from \"react\";\n\nfunction LoginForm(element: any) {\n  return (\n    <div>\n      <a\n        title=\"Google\"\n        className=\"socialaccount_provider google\"\n        href=\"/accounts/google/login/?process=login\"\n      >\n        login/singup with google\n      </a>\n      <form className=\"login\" method=\"POST\" action={element.dataset.loginurl}>\n        <input hidden name=\"csrfmiddlewaretoken\" value={element.dataset.crf} />\n        <input\n          type=\"text\"\n          name=\"login\"\n          placeholder=\"Username\"\n          autoComplete=\"username\"\n          maxLength={150}\n          required={true}\n          id=\"id_login\"\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          autoComplete=\"current-password\"\n          required={true}\n          id=\"id_password\"\n        />\n        <input type=\"checkbox\" name=\"remember\" id=\"id_remember\" />\n        <button className=\"primaryAction\" type=\"submit\">\n          Sign In\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginForm;\n","import React from \"react\";\nimport Form from \"./Form\";\nimport LoginForm from \"./LoginForm\";\nfunction Header() {\n  const element = document.getElementById(\"root\")!;\n  return (\n    <div>\n      <h1>{element.dataset.username}</h1>\n      {element.dataset.username !== \"AnonymousUser\" && Form(element)}\n      {element.dataset.username === \"AnonymousUser\" && LoginForm(element)}\n    </div>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Paper(item: { title: string; description: string }) {\n  return (\n    <div style={{ border: \"1px solid black\", margin: \"5px\" }}>\n      <h1>{item.title}</h1>\n      <p>{item.description}</p>\n    </div>\n  );\n}\n\nexport default Paper;\n","import React from \"react\";\nimport \"./App.css\";\nimport Create from \"./components/create\";\nimport lookup from \"./api/api\";\nimport Header from \"./components/Header\";\nimport Paper from \"./components/Paper\";\n// auth credineitals not provided\n//one posisble solotion it to make ajax inside the localhost:8000\nfunction App() {\n  // ðŸ”´I can't set cookies\n  // i may need to anable cookies by the browser first.\n  // const [cookies, setCookie] = useCookies([\"name\"]);\n\n  // React.useEffect(() => {\n  //   setCookie(\"name\", JSON.stringify({ name: \"other name\" }), { path: \"/\" });\n  // }, []);\n  // const val = JSON.stringify(cookies.name);\n  // console.log(JSON.parse(val));\n\n  // var getCookies = function () {\n  //   var pairs = document.cookie.split(\";\");\n  //   var cookies: any = {};\n  //   for (var i = 0; i < pairs.length; i++) {\n  //     var pair = pairs[i].split(\"=\");\n  //     cookies[(pair[0] + \"\").trim()] = unescape(pair.slice(1).join(\"=\"));\n  //   }\n  //   console.log(cookies);\n  //   return cookies;\n  // };\n\n  // var myCookies = getCookies();\n  const [state, setstate] = React.useState([]);\n  const callback = (response: any, status: number) => {\n    setstate(\n      response !== null && response.books !== null ? response.books : []\n    );\n    console.log(response, status);\n  };\n  React.useEffect(() => {\n    lookup(\"GET\", \"api/\", callback);\n  }, []);\n  return (\n    <div className=\"App\">\n      <Header />\n      <Create />\n      {state.map((item: any) => Paper(item))}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}