{"version":3,"sources":["api/api.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["lookup","method","endpoint","callback","data","xhr","XMLHttpRequest","responseType","open","window","location","origin","setRequestHeader","btoa","coockie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","onload","response","status","onerror","e","console","log","message","send","JSON","stringify","App","element","getElementById","React","useState","title","description","state","setstate","setBooks","getCallback","useEffect","className","onChange","target","value","placeholder","onClick","dataset","username","action","logouturl","hidden","crf","type","loginurl","autoComplete","maxLength","required","id","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9118af31.chunk.js","sourcesContent":["const getCookie = (name: string) => {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let i = 0; i < cookies.length; i++) {\n      const cookie = cookies[i].trim();\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) === name + \"=\") {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n};\nexport default function lookup(\n  method: string,\n  endpoint: string,\n  callback: Function,\n  data: any\n) {\n  const xhr = new XMLHttpRequest();\n  xhr.responseType = \"json\";\n  xhr.open(method, `${window.location.origin}${endpoint}`);\n  xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n  xhr.setRequestHeader(\n    \"Authorization\",\n    \"Basic \" + btoa(\"Ali\" + \":\" + \"AAssppmm11\")\n  );\n  const coockie = getCookie(\"csrftoken\");\n  if (coockie) {\n    xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-Requested-with\", \"XMLHttpRequest\");\n    xhr.setRequestHeader(\"X-CSRFToken\", coockie);\n  }\n  xhr.onload = function () {\n    callback(xhr.response, xhr.status);\n  };\n  xhr.onerror = function (e) {\n    console.log(e);\n    callback({ message: \"The request was an error\" }, 400);\n  };\n  xhr.send(JSON.stringify(data));\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport lookup from \"./api/api\";\n// auth credineitals not provided\n//one posisble solotion it to make ajax inside the localhost:8000\n\nfunction App() {\n  // ðŸ”´I can't set cookies\n  // i may need to anable cookies by the browser first.\n  // const [cookies, setCookie] = useCookies([\"name\"]);\n  const element = document.getElementById(\"root\")!;\n  // React.useEffect(() => {\n  //   setCookie(\"name\", JSON.stringify({ name: \"other name\" }), { path: \"/\" });\n  // }, []);\n  // const val = JSON.stringify(cookies.name);\n  // console.log(JSON.parse(val));\n\n  // var getCookies = function () {\n  //   var pairs = document.cookie.split(\";\");\n  //   var cookies: any = {};\n  //   for (var i = 0; i < pairs.length; i++) {\n  //     var pair = pairs[i].split(\"=\");\n  //     cookies[(pair[0] + \"\").trim()] = unescape(pair.slice(1).join(\"=\"));\n  //   }\n  //   console.log(cookies);\n  //   return cookies;\n  // };\n\n  // var myCookies = getCookies();\n  const [state, setstate] = React.useState<any>({ title: \"\", description: \"\" });\n  const [books, setBooks] = React.useState<any>({ title: \"\", description: \"\" });\n  const callback = (response: any, status: number) => {\n    setBooks(response);\n    console.log(response, status);\n  };\n\n  const getCallback = (response: any, status: number) => {\n    console.log(response, status);\n  };\n  React.useEffect(() => {\n    lookup(\"GET\", \"api/\", getCallback, state);\n  }, []);\n  return (\n    <div className=\"App\">\n      <input\n        onChange={(e) => setstate({ title: e.target.value })}\n        placeholder=\"title\"\n      />\n      <input\n        onChange={(e) => setstate({ description: e.target.value })}\n        placeholder=\"description\"\n      />\n      <button\n        onClick={() => {\n          lookup(\"POST\", \"api/addbook/\", callback, state);\n        }}\n      >\n        create book\n      </button>\n      <h1>{element.dataset.username}</h1>\n      {element.dataset.username !== \"AnonymousUser\" && (\n        <form\n          className=\"logout\"\n          method=\"post\"\n          action={element.dataset.logouturl}\n        >\n          <input\n            hidden\n            name=\"csrfmiddlewaretoken\"\n            value={element.dataset.crf}\n          />\n          <button type=\"submit\">logout</button>\n        </form>\n      )}\n\n      {element.dataset.username === \"AnonymousUser\" && (\n        <form className=\"login\" method=\"POST\" action={element.dataset.loginurl}>\n          <input\n            hidden\n            name=\"csrfmiddlewaretoken\"\n            value={element.dataset.crf}\n          />\n          <input\n            type=\"text\"\n            name=\"login\"\n            placeholder=\"Username\"\n            autoComplete=\"username\"\n            maxLength={150}\n            required={true}\n            id=\"id_login\"\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            autoComplete=\"current-password\"\n            required={true}\n            id=\"id_password\"\n          />\n          <input type=\"checkbox\" name=\"remember\" id=\"id_remember\" />\n          <button className=\"primaryAction\" type=\"submit\">\n            Sign In\n          </button>\n        </form>\n      )}\n      {element.dataset.username === \"AnonymousUser\" && (\n        <p className=\"socialaccount_providers\">\n          login/singup with google\n          <a\n            title=\"Google\"\n            className=\"socialaccount_provider google\"\n            href=\"/accounts/google/login/?process=login\"\n          >\n            Google\n          </a>\n        </p>\n      )}\n      <header className=\"App-header\">\n        <h1>books</h1>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}